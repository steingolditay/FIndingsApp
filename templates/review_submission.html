{% extends 'base.html' %}

{% block head %}
    <title>Review</title>
    <style>
        .tag-container {
            border: 2px solid #ccc;
            border-radius: 3px;
            background: #fff;
            display: flex;
            flex-wrap: wrap;
            align-content: flex-start;
            padding: 6px;
        }

        .tag-container .tag {
            height: 30px;
            margin: 5px;
            padding: 5px 6px;
            border: 1px solid #d0cece;
            border-radius: 3px;
            background: #eeeeee;
            display: flex;
            align-items: center;
            color: #333;
            cursor: default;
        }

        .tag i {
            font-size: 16px;
            color: #666;
            margin-left: 5px;
        }

        .tag-container input {
            padding: 5px;
            font-size: 16px;
            border: 0;
            outline: none;
            color: #333;
            flex: 1;
        }
    </style>

    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js"></script>




{% endblock %}


{% block body %}
    <section class="py-5 text-center container">
        <div id="header" class="row">
            <div class="mx-auto">
                <h1 style="display: inline" class="fw-light mx-5">Finding Review</h1>
            </div>
        </div>

    </section>

    <hr>
    <div class="col">
        <div class="card mb-4 shadow-sm">
            <div class="card-header">
                <h4 style="display: inline" class="my-0 fw-normal" data-toggle="collapse"
                    href="#card">{{ item['Title'] }}</h4>

                <a style="display: inline" class="btn btn-sm btn-upload float-end" data-toggle="collapse" href="#card"
                   role="button" aria-expanded="false" aria-controls="card">
                    Toggle
                </a>
            </div>
            <div class="card-body collapse" id="card">
                <h4 class="card-title pricing-card-title">{{ item['Content'] }} </h4>
                <ul class="list-unstyled mt-3 mb-4">
                    <li>Submitted by: {{ item['CreatedBy'] }}</li>
                    <li>Submitted on: {{ item['CreatedAt'] }}</li>
                </ul>
            </div>

        </div>
    </div>

    <div>
        <form class="form-horizontal" action="/review/submission={{ item['Uid'] }}by={{ item['CreatedBy'] }}"
              method="post">
            {{ form.csrf_token }}
            <div class="form-group">
                <label for="title">Title</label>
                <input type="text" class="form-control" id="title" name="title" value="{{ form.title.data }}">
                {% for error in form.title.errors %}
                    <li style="color: #9C1A1C">{{ error }}</li>
                {% endfor %}
                <br>
                <label for="finding_description">Finding Description</label>
                <input type="text" class="form-control" id="finding_description" name="finding_description"
                       value="{{ form.finding_description.data }}">
                {% for error in form.finding_description.errors %}
                    <li style="color: #9C1A1C">{{ error }}</li>
                {% endfor %}
            </div>
            <br>
            <div class="form-group">
                <label for="risk_probability">Risk Probability</label>
                <select class="form-control" id="risk_probability" name="risk_probability">
                    <option>- select -</option>
                    <option>Low</option>
                    <option>Medium</option>
                    <option>High</option>
                </select>
                {% for error in form.risk_probability.errors %}
                    <li style="color: #9C1A1C">{{ error }}</li>
                {% endfor %}
                <br>
                <label for="risk_severity">Risk Severity</label>
                <select class="form-control" id="risk_severity" name="risk_severity">
                    <option>- select -</option>
                    <option>Low</option>
                    <option>Medium</option>
                    <option>High</option>
                </select>
                {% for error in form.risk_severity.errors %}
                    <li style="color: #9C1A1C">{{ error }}</li>
                {% endfor %}
                <br>
                <label for="risk_level">Overall Risk Level</label>
                <select class="form-control" id="risk_level" name="risk_level">
                    <option>- select -</option>
                    <option>Low</option>
                    <option>Medium</option>
                    <option>High</option>
                </select>
                {% for error in form.risk_level.errors %}
                    <li style="color: #9C1A1C">{{ error }}</li>
                {% endfor %}
            </div>
            <br>
            <div class="form-group">
                <label for="risk_description">Risk Description</label>
                <textarea class="form-control" id="risk_description" name="risk_description" rows="5"></textarea>
                {% for error in form.risk_description.errors %}
                    <li style="color: #9C1A1C">{{ error }}</li>
                {% endfor %}
            </div>

            <br>
            <div class="form-group " id="container">
                <label style="display: inline" for="risk_recommendations">Recommendations</label>
                <textarea class="form-control" id="risk_recommendations" name="risk_recommendations"
                          rows="5"></textarea>
                {% for error in form.risk_recommendations.errors %}
                    <li style="color: #9C1A1C">{{ error }}</li>
                {% endfor %}
            </div>
            <br>
            <label>Tags</label>
            <div class="tag-container">
                <input/>
                <input type="hidden" name="hidden" id="hidden">
            </div>
            <br>
            <div>

                <input class="btn btn-outline-success mx-auto btn-lg" width="50" type="submit" id="submit" name="submit"
                       value="Submit">
            </div>
            <br><br>


            <br>
        </form>


    </div>


    <script src="/static/js/tagsInput.js"></script>
{% endblock %}